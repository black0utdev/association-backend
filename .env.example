# ============================================================================
# ENVIRONMENT CONFIGURATION EXAMPLE
# ============================================================================
# 
# ⚠️  WARNING: DO NOT COMMIT THIS FILE WITH REAL SECRETS!
# 
# Instructions:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace all placeholder values with real secrets
# 3. Ensure .env is in .gitignore
# 4. Use strong, randomly generated secrets for production
#
# Generate secure secrets with:
#   openssl rand -hex 32
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
# ============================================================================

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------

# Environment: development, staging, production
APP_ENV=development

# Enable debug mode (NEVER use true in production)
DEBUG=true

# Application secret key for JWT signing and encryption
# REQUIRED: Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-me-in-production

# Application port (default: 8000)
APP_PORT=8000

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------

# Database name
POSTGRES_DB=association

# Database user
POSTGRES_USER=postgres

# Database password
# REQUIRED: Use strong password in production
POSTGRES_PASSWORD=your-postgres-password-change-me

# Database port (default: 5432)
POSTGRES_PORT=5432

# Full database URL (auto-constructed in docker-compose)
# Format: postgresql://user:password@host:port/database
# DATABASE_URL=postgresql://postgres:your-password@localhost:5432/association

# ----------------------------------------------------------------------------
# Authelia Configuration (OAuth2 Provider)
# ----------------------------------------------------------------------------

# Authelia port (default: 9091)
AUTHELIA_PORT=9091

# JWT secret for Authelia token signing
# REQUIRED: Generate with: openssl rand -hex 32
AUTHELIA_JWT_SECRET=your-authelia-jwt-secret-change-me

# Session secret for Authelia session encryption
# REQUIRED: Generate with: openssl rand -hex 32
AUTHELIA_SESSION_SECRET=your-authelia-session-secret-change-me

# Storage encryption key for Authelia database
# REQUIRED: Generate with: openssl rand -hex 32
AUTHELIA_STORAGE_ENCRYPTION_KEY=your-authelia-storage-key-change-me

# Authelia database name (separate from main app database)
AUTHELIA_DB=authelia

# ----------------------------------------------------------------------------
# OAuth2 Client Configuration
# ----------------------------------------------------------------------------

# OAuth2 client ID for your application
OAUTH2_CLIENT_ID=association-backend

# OAuth2 client secret
# REQUIRED: Generate with: openssl rand -hex 32
OAUTH2_CLIENT_SECRET=your-oauth2-client-secret-change-me

# OAuth2 redirect URI (adjust for your domain)
OAUTH2_REDIRECT_URI=http://localhost:8000/auth/callback

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------

# Allowed origins for CORS (comma-separated)
# Example: http://localhost:3000,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000

# ----------------------------------------------------------------------------
# Optional: Additional Services
# ----------------------------------------------------------------------------

# Redis (if using for caching/sessions)
# REDIS_URL=redis://redis:6379/0

# Email configuration (if using email notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM=noreply@yourdomain.com

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# ----------------------------------------------------------------------------
# Security Headers
# ----------------------------------------------------------------------------

# Enable HTTPS redirect (set to true in production behind reverse proxy)
FORCE_HTTPS=false

# Session cookie settings
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ----------------------------------------------------------------------------
# Production Checklist
# ----------------------------------------------------------------------------
# Before deploying to production, ensure:
# ✓ All secrets are randomly generated and strong
# ✓ DEBUG=false
# ✓ APP_ENV=production
# ✓ FORCE_HTTPS=true
# ✓ SESSION_COOKIE_SECURE=true
# ✓ Database passwords are complex
# ✓ ALLOWED_ORIGINS is restricted to your domain
# ✓ .env file has restricted permissions (chmod 600)
# ✓ .env is never committed to version control
# ----------------------------------------------------------------------------
